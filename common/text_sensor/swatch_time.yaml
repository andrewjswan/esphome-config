# ESPHome Uptime
platform: template
name: Swatch Time
lambda: |-
  auto time = id(esp_time).utcnow();
  if (!time.is_valid())
  {
    return {};
  }

  int hours = time.hour + 1 > 23 ? 0 : time.hour + 1;
  int minutes = time.minute;
  int seconds = time.second;

  int swatch_time = (3600 * hours + 60 * minutes + seconds) / 86.4;

  char tmp[5];
  snprintf(tmp, sizeof(tmp), "@%03d", swatch_time);
  return { std::string(tmp) };
update_interval: 15s
id: swatch_time
icon: mdi:clock
web_server:
  sorting_weight: 1000
